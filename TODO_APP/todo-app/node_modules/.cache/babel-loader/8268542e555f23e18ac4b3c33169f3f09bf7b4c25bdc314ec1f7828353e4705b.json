{"ast":null,"code":"//The main goal of salesforce.ts is to provide a set of functions to\n//  interact with a Salesforce API for managing \"todo\" items.\n//It uses the axios library to make HTTP requests to the Salesforce API.\n\nimport axios from 'axios';\n// Setting default base URL & headers for axios (http requests via API)\naxios.defaults.baseURL = 'https://easyvest-dev-ed.develop.my.salesforce-sites.com/services/apexrest/api/public';\naxios.defaults.headers.common['Content-Type'] = 'application/json';\n\n// Function to get all todos\nexport const getTodos = async () => {\n  const response = await axios.get('/todos'); // Making a GET request to fetch todos\n  const data = response.data; // Extracting data from the response\n  return data.map(item => ({\n    // Mapping the response data to Todo type\n    id: item.Id,\n    title: item.Title__c,\n    completed: item.Completed__c\n  }));\n};\n\n// Function to add a new todo\nexport const addTodo = async todo => {\n  const response = await axios.post('/todos', {\n    // Making a POST request to add a new todo\n    Title__c: todo.title,\n    Completed__c: todo.completed\n  });\n  const item = response.data; // Extracting data from the response\n  return {\n    // Returning the new todo with the id from the response\n    id: item.Id,\n    title: item.Title__c,\n    completed: item.Completed__c\n  };\n};\n\n// Function to update an existing todo\nexport const updateTodo = async todo => {\n  await axios.patch(`/todos/${todo.id}`, {\n    // Making a PATCH request to update the todo\n    Title__c: todo.title,\n    Completed__c: todo.completed\n  });\n};\n\n// Function to delete an existing todo\nexport const deleteTodo = async id => {\n  await axios.delete(`/todos/${id}`); // Making a DELETE request to remove the todo by its id\n};","map":{"version":3,"names":["axios","defaults","baseURL","headers","common","getTodos","response","get","data","map","item","id","Id","title","Title__c","completed","Completed__c","addTodo","todo","post","updateTodo","patch","deleteTodo","delete"],"sources":["/Users/brieuc/Documents/GitHub/SALESFORCE_REACT/TODO_APP/todo-app/src/services/salesforce.ts"],"sourcesContent":["//The main goal of salesforce.ts is to provide a set of functions to\n//  interact with a Salesforce API for managing \"todo\" items.\n//It uses the axios library to make HTTP requests to the Salesforce API.\n\nimport axios from 'axios';\nimport { Todo } from '../types';\n\n\n// Setting default base URL & headers for axios (http requests via API)\naxios.defaults.baseURL = 'https://easyvest-dev-ed.develop.my.salesforce-sites.com/services/apexrest/api/public';\naxios.defaults.headers.common['Content-Type'] = 'application/json';\n\n// Function to get all todos\nexport const getTodos = async (): Promise<Todo[]> => {\n  const response = await axios.get('/todos'); // Making a GET request to fetch todos\n  const data = response.data; // Extracting data from the response\n  return data.map((item: any) => ({ // Mapping the response data to Todo type\n    id: item.Id,\n    title: item.Title__c,\n    completed: item.Completed__c,\n  }));\n};\n\n// Function to add a new todo\nexport const addTodo = async (todo: Omit<Todo, 'id'>): Promise<Todo> => {\n  const response = await axios.post('/todos', { // Making a POST request to add a new todo\n    Title__c: todo.title,\n    Completed__c: todo.completed,\n  });\n  const item = response.data; // Extracting data from the response\n  return { // Returning the new todo with the id from the response\n    id: item.Id,\n    title: item.Title__c,\n    completed: item.Completed__c,\n  };\n};\n\n// Function to update an existing todo\nexport const updateTodo = async (todo: Todo): Promise<void> => {\n  await axios.patch(`/todos/${todo.id}`, { // Making a PATCH request to update the todo\n    Title__c: todo.title,\n    Completed__c: todo.completed,\n  });\n};\n\n// Function to delete an existing todo\nexport const deleteTodo = async (id: string): Promise<void> => {\n  await axios.delete(`/todos/${id}`); // Making a DELETE request to remove the todo by its id\n};"],"mappings":"AAAA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAIzB;AACAA,KAAK,CAACC,QAAQ,CAACC,OAAO,GAAG,sFAAsF;AAC/GF,KAAK,CAACC,QAAQ,CAACE,OAAO,CAACC,MAAM,CAAC,cAAc,CAAC,GAAG,kBAAkB;;AAElE;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAA6B;EACnD,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;EAC5C,MAAMC,IAAI,GAAGF,QAAQ,CAACE,IAAI,CAAC,CAAC;EAC5B,OAAOA,IAAI,CAACC,GAAG,CAAEC,IAAS,KAAM;IAAE;IAChCC,EAAE,EAAED,IAAI,CAACE,EAAE;IACXC,KAAK,EAAEH,IAAI,CAACI,QAAQ;IACpBC,SAAS,EAAEL,IAAI,CAACM;EAClB,CAAC,CAAC,CAAC;AACL,CAAC;;AAED;AACA,OAAO,MAAMC,OAAO,GAAG,MAAOC,IAAsB,IAAoB;EACtE,MAAMZ,QAAQ,GAAG,MAAMN,KAAK,CAACmB,IAAI,CAAC,QAAQ,EAAE;IAAE;IAC5CL,QAAQ,EAAEI,IAAI,CAACL,KAAK;IACpBG,YAAY,EAAEE,IAAI,CAACH;EACrB,CAAC,CAAC;EACF,MAAML,IAAI,GAAGJ,QAAQ,CAACE,IAAI,CAAC,CAAC;EAC5B,OAAO;IAAE;IACPG,EAAE,EAAED,IAAI,CAACE,EAAE;IACXC,KAAK,EAAEH,IAAI,CAACI,QAAQ;IACpBC,SAAS,EAAEL,IAAI,CAACM;EAClB,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMI,UAAU,GAAG,MAAOF,IAAU,IAAoB;EAC7D,MAAMlB,KAAK,CAACqB,KAAK,CAAC,UAAUH,IAAI,CAACP,EAAE,EAAE,EAAE;IAAE;IACvCG,QAAQ,EAAEI,IAAI,CAACL,KAAK;IACpBG,YAAY,EAAEE,IAAI,CAACH;EACrB,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMO,UAAU,GAAG,MAAOX,EAAU,IAAoB;EAC7D,MAAMX,KAAK,CAACuB,MAAM,CAAC,UAAUZ,EAAE,EAAE,CAAC,CAAC,CAAC;AACtC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}